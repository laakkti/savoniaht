(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{321:function(e,t,a){e.exports=a.p+"static/media/idea.99bdc76f.PNG"},373:function(e,t,a){e.exports=a(690)},656:function(e){e.exports={web:{client_id:"28376806989-oeo76ft0gut7h538bk373upodmajvakg.apps.googleusercontent.com",project_id:"gtwmob-223920",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token",auth_provider_x509_cert_url:"https://www.googleapis.com/oauth2/v1/certs",client_secret:"B9B0DSlM0Rjtu7tNNrMhXpcg"}}},682:function(e,t){},685:function(e,t,a){},688:function(e,t,a){},690:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(48),r=a.n(o),c=a(19),i=a.n(c),u=a(30),s=a(17),m=a(41),d=a(173),g=a(708),p=a(702),f=a(709),E=(a(67),a(704)),b=a(710),v=a(187),h=function(e){var t=e._icon,a=e._content,n=e._question,o=e._open,r=e.func;return l.a.createElement(E.a,{size:"mini",open:o},l.a.createElement(b.a,{icon:t,content:a}),l.a.createElement(E.a.Content,null,l.a.createElement("p",null,n)),l.a.createElement(E.a.Actions,null,l.a.createElement(g.a,{secondary:!0,onClick:function(){return r(!1)}},l.a.createElement(v.a,{name:"remove"})," No"),l.a.createElement(g.a,{primary:!0,onClick:function(){return r(!0)}},l.a.createElement(v.a,{name:"checkmark"})," Yes")))},y=a(707),x=function(e){var t=e.message,a=e.header,n=e.color,o=e._visible,r=e._icon,c=e.delay,i=e.func;return!1===o?null:(c&&(console.log("MessgeBox delay"),setTimeout(function(){i(!1)},c)),l.a.createElement(y.a,{icon:!0,color:n},l.a.createElement(v.a,{name:r}),l.a.createElement(y.a.Content,null,l.a.createElement(y.a.Header,null,a),t)))},O=a(715),j=a(712),S=function(e){var t,a=e.header,n=e.message,o=e._color,r=e._visible,c=e._icon,i=e.delay,u=e.func;return null!==i?(console.log("delay="+i),t=!1,setTimeout(function(){u(!1)},i)):t=!0,l.a.createElement(O.a,{open:r},l.a.createElement(j.a,{style:{left:"40%",position:"fixed",top:"40%",zIndex:1e3}},l.a.createElement(y.a,{icon:!0,color:o},l.a.createElement(v.a,{name:c,loading:t}),l.a.createElement(y.a.Content,null,l.a.createElement(y.a.Header,null,a),n))))},k=a(713),w=function(e){var t=e.text,a=e._trigger;return l.a.createElement(k.a,{content:t,trigger:a,inverted:!0})},C=a(34),I=a.n(C),_={getTitles:function(e){return I.a.get("/api/datas/titles",{params:{user:e}}).then(function(e){return e.data})},getItem:function(e){return console.log("in getItemn datas.js id= /api/datas/"+e),I.a.get("/api/datas/"+e,{params:{itemId:e}}).then(function(e){return e.data})},deleteItem:function(e){return console.log("in deleteItemn datas.js id= /api/datas/"+e),I.a.delete("/api/datas/"+e,{params:{itemId:e}}).then(function(e){return e.data})},setToken:function(e){return"bearer ".concat(e)},queryReady:function(e){return console.log("queryRedy on front "+e),I.a.get("/api/datas/queryReady",{params:{socketId:e}}).then(function(e){return e.data})}},T={login:function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},N={createNew:function(){var e=Object(u.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.post("/api/devices",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getAll:function(){return I.a.get("/api/devices").then(function(e){return e.data})}},z=function(){return I.a.get("/api/info/queryAddress").then(function(e){return e.data})},D=a(691),F=function(e){var t=e._src,a=e._size;return console.log("Image= "+t,a),l.a.createElement(D.a,{src:t,size:a})},A=a(321),P=a.n(A),J=Object(d.d)(function(e){return l.a.createElement("div",null,l.a.createElement("h2",null,"Savonia digiteknologian harjoitusty\xf6"),l.a.createElement("br",null),l.a.createElement(F,{_src:P.a,_size:"huge"}),l.a.createElement("button",{onClick:function(t){t.preventDefault(),e.history.push("/Login")}},"To Login"))}),L=a(706),R=Object(d.d)(function(e){console.log("PROPS.dataLoaded_on= "+e._dataLoaded);var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),u=i[0],m=i[1],d={color:"grey",fontStyle:"italic",fontSize:10},g=function(t){console.log("PROPS.dataLoaded= "+e._dataLoaded),console.log("#1 show "),e.func(t,"show").then(function(t){e.history.push("/ChartPage")}),console.log("#3 show ")};return l.a.createElement(l.a.Fragment,null,l.a.createElement(h,{_icon:"trash",_content:"Delete dataset",_question:"Are you sure?",_open:o,func:function(t){t&&e.func(u,"delete"),r(!1)}}),l.a.createElement(L.a,{divided:!0,relaxed:!0,size:"medium",celled:!0,selection:!0},e.datas.map(function(e){return l.a.createElement(L.a.Item,{key:e.id.toString()},l.a.createElement(L.a.Icon,{name:"caret right",size:"large",verticalAlign:"middle",onClick:function(){g(e.id)}}),l.a.createElement(L.a.Content,{onClick:function(){g(e.id)}},l.a.createElement(L.a.Header,{as:"a"},e.dataset),l.a.createElement(L.a.Description,{style:d,as:"a"},e.date," ")),l.a.createElement(L.a.Icon,{name:"trash",size:"large",color:"teal",verticalAlign:"middle",onClick:function(){var t;t=e.id,m(t),r(!0)}}))})))}),G=a(65),q=function(e){var t=e.data;return l.a.createElement(G.d,{width:700,height:420,data:t,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(G.a,{strokeDasharray:"3 3"}),l.a.createElement(G.f,{dataKey:"name"}),l.a.createElement(G.g,null),l.a.createElement(G.e,null),l.a.createElement(G.b,null),l.a.createElement(G.c,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}}))},B=function(e){var t=e.data,a=Object(n.useState)("temperature"),o=Object(s.a)(a,2),r=o[0],c=o[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),m=u[0],d=u[1],g=t;Object(n.useEffect)(function(){c("temperature"),E(g,["temperature","time"])},[]);var p=function(e,t){var a=t.name;console.log("handleItemClick="+a),c(a),E(g,[a,"time"])},E=function(e,t){var a=[];e.content.map(function(e){var n=e[t[0]],l=function(e){var t=new Date(1e3*e),a=t.getFullYear(),n=t.getMonth(),l=t.getDate(),o=t.getHours();o<10&&(o="0"+o);var r=t.getMinutes();r<10&&(r="0"+r);var c=t.getSeconds();return c<10&&(c="0"+c),l+"."+n+"."+a+" "+o+":"+r+":"+c}(e[t[1]]);t[1],a.push({name:l,value:n})}),d(a),console.log(JSON.stringify(a))};return l.a.createElement("div",null,l.a.createElement(f.a,{color:"grey",inverted:!0},["temperature","pressure","humidity","windspeed","ozone","all"].map(function(e){return l.a.createElement(f.a.Item,{key:e,name:e,color:"red",active:r===e,onClick:p})})),l.a.createElement(q,{data:m}))},M=a(138),U=a(329),H=a(140),K=a(139),X=a(141),W=a(330),Y=a.n(W),V=a(698),Z=function(e){var t=e.text;return l.a.createElement("div",{style:{color:"white",background:"blue",padding:"8px 8px",display:"inline-flex",textAlign:"center",alignItems:"center",justifyContent:"center",borderRadius:"100%",transform:"translate(-50%, -50%)"}},t)},$=function(e){function t(){return Object(M.a)(this,t),Object(H.a)(this,Object(K.a)(t).apply(this,arguments))}return Object(X.a)(t,e),Object(U.a)(t,[{key:"render",value:function(){var e=this.props,t=e.center,a=e.zoom,n=e.text;return console.log("TEXT="+n),l.a.createElement("div",{style:{height:"50vh",width:"100%"}},l.a.createElement(Y.a,{bootstrapURLKeys:{key:"AIzaSyDpjvOEJNziJ2fRzXv50Xsu_IAk9jeaLCM"},center:t,defaultZoom:a},l.a.createElement(Z,{center:t,text:n})))}}]),t}(n.Component),Q=a(703),ee=a(711),te=a(309),ae=a(701),ne=a(705),le=function(e){var t=e.placeHolder,a=e.options,n=e.func;return l.a.createElement(ne.a,{placeholder:t,fluid:!0,selection:!0,options:a,onChange:function(e,t){var a=t.value;console.log(a);var l=e.target.textContent;console.log(l),n(a)}})},oe=function(e){function t(){var e;return Object(M.a)(this,t),(e=Object(H.a)(this,Object(K.a)(t).call(this))).init=function(){var e=a(656),t=(e=JSON.parse(JSON.stringify(e))).web.client_id;return console.log("#1 xxxxxxxxxxxxxxx"),window.gapi.load("client:auth2",function(){var e={client_id:t};window.gapi.auth2.init(e)})},e.authenticate=function(){return window.gapi.auth2.getAuthInstance().signIn({scope:"https://mail.google.com/ https://www.googleapis.com/auth/gmail.modify https://www.googleapis.com/auth/gmail.readonly"})},e.loadClient=function(){return window.gapi.client.load("https://content.googleapis.com/discovery/v1/apis/gmail/v1/rest")},e.execute=function(e){e.Content;var t=JSON.stringify(e.Content),a=btoa("From: ".concat(e.From,"\r\n")+"To: ".concat(e.To,"\r\n")+"Subject: ".concat(e.Subject,"\r\n\r\n")+"".concat(t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");e.Token;return window.window.gapi.client.gmail.users.messages.send({userId:"".concat("gtw.mob@gmail.com"),resource:{raw:"".concat(a)}}).then(function(e){console.log("Response",e)},function(e){console.error("Execute error",e)})},e.sendGmail=function(){var t=Object(u.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("#1"),window.gapi.auth2.getAuthInstance().isSignedIn.get()){t.next=5;break}return console.log("#2"),t.next=5,e.authenticate();case 5:return console.log("#3"),t.next=8,e.loadClient();case 8:return console.log("#4"+JSON.stringify(a)),t.next=11,e.execute(a);case 11:console.log("#5");case 12:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),console.log("call init"),e.init(),e}return Object(X.a)(t,e),t}(l.a.Component),re=function(e){var t=e._zoom,a=e._text,o=e.socketId,r=e.deviceInfo,c=e.devices,i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],d=u[1],p=new oe,f=[];c.map(function(e){console.log("Device name = "+e.name);var t={key:e.name,text:e.name,value:e.email};f.push(t)});if(!r.batLevel)return l.a.createElement(Q.a,null,l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Device name"),l.a.createElement(le,{placeHolder:"Select device",options:f,func:function(e){d(e)}})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Device email"),l.a.createElement("input",{placeholder:"Give email of the choosen device",value:m,onChange:function(e){},disabled:!0})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Socket-io.id"),l.a.createElement("input",{placeholder:o})),l.a.createElement(g.a,{primary:!0,type:"submit",onClick:function(e){var t={From:"gtw.mob@gmail.com",To:"gtw.mob@gmail.com",Subject:"query",Content:{IP:"info.address",SocketId:o}};console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4DATA \xa4\xa4\xa4\xa4\xa4\xa4 "+JSON.stringify(t)),p.sendGmail(t)}},"Submit"));var E=[r.location[0],r.location[1]],b=Object(n.useState)(E),h=Object(s.a)(b,2),y=h[0],x=(h[1],Object(n.useState)(t)),O=Object(s.a)(x,2),S=O[0],k=(O[1],Object(n.useState)(a)),w=Object(s.a)(k,2),C=w[0],I=(w[1],{value:r.batLevel,total:100,label:"Battery level",active:!0}),_=I.value;I.color=_>49?"green":_<=49&&_>29?"orange":"red";var T=r.memory[1]-r.memory[0],N=Math.round((r.memory[1]-r.memory[0])/r.memory[1]*100),z={value:T,label:"Free memory",active:!0};return _=N,z.color=_>49?"green":_<=49&&_>29?"orange":"red",l.a.createElement(j.a,{placeholder:!0},l.a.createElement(ee.a,{columns:2,relaxed:"very",stackable:!0},l.a.createElement(ee.a.Column,null,l.a.createElement($,{center:y,zoom:S,text:C})),l.a.createElement(ee.a.Column,{verticalAlign:"middle"},l.a.createElement(j.a,{style:{backgroundColor:"#C0E2E1",width:"50%"}},l.a.createElement("label",{style:{fontSize:"10px"}},"Location"),l.a.createElement("div",{style:{display:"flex",flexdirection:"row"}},l.a.createElement("div",{style:{marginRight:"5px"}},l.a.createElement(te.a,null,r.location[0])),l.a.createElement("div",{style:{marginRight:"5px"}},l.a.createElement(v.a,{size:"small",circular:!0,color:"teal",name:"circle"})),l.a.createElement("div",{style:{marginRight:"5px"}},l.a.createElement(te.a,null,r.location[1]))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{marginRight:"10px"}},l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"10px"}},"Network type")),l.a.createElement("div",null,l.a.createElement(te.a,null,r.netWorkType))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"10px"}},"Signal strength")),l.a.createElement("div",null,l.a.createElement(te.a,null,r.signalStrength)))),l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"10px"}},z.label," (",z.value," /   ",r.memory[1],")"),l.a.createElement(V.a,{size:"medium",percent:N,color:z.color,progress:!0,active:z.active})),l.a.createElement("div",{style:{marginTop:"-20px",marginBottom:"-20px"}},l.a.createElement("label",{style:{fontSize:"10px"}},I.label),l.a.createElement(V.a,{size:"medium",percent:I.value,progress:!0,color:I.color,active:I.active})),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"10px"}},"Battery \xb0C ")),l.a.createElement("div",null,l.a.createElement(te.a,null,r.batTemp))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("label",{style:{fontSize:"10px"}},"CPU \xb0C ")),l.a.createElement("div",null,l.a.createElement(te.a,null,r.cpuTemp)))))),l.a.createElement(ae.a,{vertical:!0}))},ce=Object(d.d)(function(e){return l.a.createElement(j.a,{placeholder:!0},l.a.createElement(ee.a,{columns:2,relaxed:"very",stackable:!0},l.a.createElement(ee.a.Column,null,l.a.createElement(Q.a,{onSubmit:function(){console.log("#2 login handeSubmit "),e.handleSubmit().then(function(t){console.log("#2 login handeSubmit "+t),t&&e.history.push("/")})}},l.a.createElement(Q.a.Input,{icon:"user",iconPosition:"left",label:"Username",placeholder:"Username",value:e.username,onChange:e.handleUsernameChange}),l.a.createElement(Q.a.Input,{icon:"lock",iconPosition:"left",label:"Password",type:"password",value:e.password,onChange:e.handlePasswordChange}),l.a.createElement(g.a,{content:"Login",primary:!0,type:"submit"}))),l.a.createElement(ee.a.Column,{verticalAlign:"middle"},l.a.createElement(g.a,{content:"Sign up",icon:"signup",size:"big"}))),l.a.createElement(ae.a,{vertical:!0},"Or"))}),ie=a(700),ue=a(699),se=Object(d.d)(function(e){e.props;var t=e.token,a=e.socketId,o=e.devices,r=e.info;e.func;console.log("#############################");var c=Object(n.useState)(""),i=Object(s.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),f=p[0],E=p[1];console.log("Emailform  "+JSON.stringify(r)+" "+r.port);var b=r.ip_address,v=r.port,h="ea8a7cd6a76ab7136502dfe91fde6f7b",y="currently,minutely,daily,alerts,flags",x="https://api.darksky.net/forecast/"+h+"/%s?units=si&exclude="+y;console.log(x);var O=new oe,j=function(e){};console.log("devices[0] ="+o[0].name);var S=[];o.map(function(e){console.log("Device name = "+e.name);var t={key:e.name,text:e.name,value:e.email};S.push(t)});return l.a.createElement(Q.a,null,l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Device name"),l.a.createElement(le,{placeHolder:"Select device",options:S,func:function(e){E(e)}})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Name for dataset "),l.a.createElement("input",{placeholder:"Give a name for dataset",value:u,onChange:function(e){m(e.target.value),console.log(u)},disabled:!1})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Device email"),l.a.createElement("input",{placeholder:"Give email of the choosen device",value:f,onChange:j,disabled:!0})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Data source"),l.a.createElement(ie.a,{label:"https://",placeholder:"Give URL with params",value:"api.darksky.net/forecast/ea8a7cd6a76ab7136502dfe91fde6f7b/%s?units=si&exclude=currently,minutely,daily,alerts,flags",onChange:j,disabled:!0})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Token"),l.a.createElement("input",{placeholder:t,value:t,onChange:j,disabled:!0})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Socket-io.id"),l.a.createElement("input",{placeholder:a})),l.a.createElement("div",{style:{display:"flex",flexdirection:"row"}},l.a.createElement(Q.a.Field,{style:{width:"50%"}},l.a.createElement("label",null,"Backend"),l.a.createElement("input",{value:b,onChange:j,disabled:!0})),l.a.createElement(Q.a.Field,null,l.a.createElement("label",null,"Port"),l.a.createElement("input",{value:v,onChange:j,disabled:!0}))),l.a.createElement(Q.a.Field,null,l.a.createElement(ue.a,{label:"Save dataset"})),l.a.createElement(Q.a.Field,null,l.a.createElement(ue.a,{label:"Save query as template"})),l.a.createElement(g.a,{primary:!0,type:"submit",onClick:function(e){console.log("EmailForm token="+t+" socketId="+a);var n={From:"gtw.mob@gmail.com",To:"gtw.mob@gmail.com",Subject:"query",Content:{Title:"TESTI",Token:t,IP:r.ip_address,URL:r.url,Path:"./api/datas",Port:r.port,SocketId:a,Source:x}};console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4DATA \xa4\xa4\xa4\xa4\xa4\xa4 "+JSON.stringify(n)),O.sendGmail(n)}},"Submit"))}),me=a(339),de=a.n(me),ge=(a(685),function(){return l.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:14,display:"flex",flexdirection:"row"}},l.a.createElement("em",{style:{marginRight:"5px",verticalAlign:"bottom"}},"Digiteknologian harjoitusty\xf6, Timo Laakkonen Savonia AMK 2019 "),l.a.createElement(w,{text:"0407155101",_trigger:l.a.createElement(g.a,{primary:!0,circular:!0,icon:"phone"})}))}),pe=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),o=t[0],r=t[1],c=Object(n.useState)([]),g=Object(s.a)(c,2),E=g[0],b=g[1],v=Object(n.useState)([]),y=Object(s.a)(v,2),O=y[0],j=y[1],k=Object(n.useState)(null),w=Object(s.a)(k,2),C=(w[0],w[1],Object(n.useState)("")),I=Object(s.a)(C,2),D=I[0],F=I[1],A=Object(n.useState)(""),P=Object(s.a)(A,2),L=P[0],G=P[1],q=Object(n.useState)(null),M=Object(s.a)(q,2),U=M[0],H=M[1],K=Object(n.useState)(!1),X=Object(s.a)(K,2),W=X[0],Y=X[1],V=Object(n.useState)(!1),Z=Object(s.a)(V,2),$=Z[0],Q=Z[1],ee=Object(n.useState)("home"),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)(!1),oe=Object(s.a)(le,2),ie=oe[0],ue=oe[1],me=Object(n.useState)([]),pe=Object(s.a)(me,2),fe=pe[0],Ee=pe[1],be=Object(n.useState)([]),ve=Object(s.a)(be,2),he=(ve[0],ve[1],Object(n.useState)(null)),ye=Object(s.a)(he,2),xe=ye[0],Oe=ye[1],je=Object(n.useState)(null),Se=Object(s.a)(je,2),ke=Se[0],we=Se[1],Ce=Object(n.useState)(null),Ie=Object(s.a)(Ce,2),_e=Ie[0],Te=Ie[1],Ne=null,ze=null;Object(n.useEffect)(function(){z().then(function(e){Te(e),console.log("data="+JSON.stringify(e))}),N.getAll().then(function(e){Ee(e),console.log("returnValue= "+JSON.stringify(e)),console.log(e[0].name)}),a(687),a(308);var e=de()("/");e.emit("client","Just took connection"),e.on("connected",function(e){we(e)}),e.on("NewData",function(e){console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4data received "+W+"   id "+e+" === "+ke+"    toksen= "+xe)}),e.on("Ready2Start",function(e){console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4data received"),De(e)}),e.on("FromAPI",function(e){console.log("xxxxxxxxxxxxxxxxxx "+e),Fe(e),nt(!0)});var t=window.localStorage.getItem("loggedNoteappUser");if(t){var n=JSON.parse(t);H(n),console.log("#1--- "+n),console.log("#1 user.token--- "+n.token),Ne=_.setToken(n.token),Oe(Ne),_.getTitles(n.username).then(function(e){j(e),console.log("GET TITLES "+JSON.stringify(e))})}},[]);var De=function(e){var t=JSON.parse(e);b(t),console.log("Notify2Start "+t.batLevel),nt(!0)},Fe=function(e){console.log("NotifyFromBack "+e)},Ae=Object(n.useState)("blue"),Pe=Object(s.a)(Ae,2),Je=Pe[0],Le=Pe[1],Re=Object(n.useState)(["Wait a moment","Data is loading..."]),Ge=Object(s.a)(Re,2),qe=Ge[0],Be=Ge[1],Me=Object(n.useState)(null),Ue=Object(s.a)(Me,2),He=Ue[0],Ke=Ue[1],Xe=Object(n.useState)("circle notched"),We=Object(s.a)(Xe,2),Ye=We[0],Ve=We[1],Ze=Object(n.useState)(["Error","username or password is incorrect"]),$e=Object(s.a)(Ze,2),Qe=$e[0],et=($e[1],function(e){console.log("????????????????????????? "+e),e||(console.log("call setMessageProp(false)"),nt(!1)),Y(e)}),tt=0,at=function(){var e=ke;_.queryReady(e).then(function(e){console.log("ReadyOrNot "+e),e&&(clearInterval(ze),nt(!0))}),tt++,console.log("hello "+tt),20===tt&&clearInterval(ze)},nt=function(e){e?(Le("green"),Ve("thumbs up"),Be(["Good news","Data is loaded now."]),Ke(5e3)):(Ke(null),Le("blue"),Ve("circle notched"),Be(["Wait a moment","Data is loading..."]))},lt=function(e,t){var a=t.name,n=t.disabled;"signout"===a&&ue(!0),console.log("TOKEN in handleClick on asettunut jo token="+xe),console.log("handleItemClick="+a+"  "+n),console.log("datas="+o),ne(a)},ot=function(){var e=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4 "+D+"   "+L),e.prev=1,e.next=4,T.login({username:D,password:L});case 4:return t=e.sent,console.log("\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4\xa4 user "+t.username+"   "+t.data+"   "+JSON.stringify(t)),window.localStorage.setItem("loggedNoteappUser",JSON.stringify(t)),_.setToken(t.token),H(t),F(""),G(""),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(1),Ke(2500),Q(!0),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,this,[[1,14]])}));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(u.a)(i.a.mark(function e(t,a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("show"!==a){e.next=8;break}return console.log("1# GET======="),r([]),e.next=5,_.getItem(t).then(function(e){return r(e),console.log("2# GET======= "+JSON.stringify(e.content)),!0});case 5:console.log("3# GET======="),e.next=18;break;case 8:if("check"!==a){e.next=13;break}return console.log("CHECK in App.js ======= "),e.abrupt("return",!0);case 13:if("delete"!==a){e.next=18;break}return e.next=16,_.deleteItem(t).then(function(e){console.log("DELETE======= "+JSON.stringify(e.content))});case 16:return e.next=18,_.getTitles(U.username).then(function(e){j(e)});case 18:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),ct=function(e){e&&(et(!0),ze=setInterval(at,2e3))};return l.a.createElement(p.a,null,l.a.createElement(h,{_icon:"sign out",_content:"Logging out",_question:"Are you sure?",_open:ie,func:function(e){console.log("heippa "+e),ue(!1)}}),l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(f.a,{inverted:!0},l.a.createElement(f.a.Item,{icon:"home",name:"home",as:m.b,to:"/",active:"home"===ae,onClick:lt}),l.a.createElement(f.a.Item,{icon:"list",name:"datasets",as:m.b,to:"/datas",active:"datasets"===ae,disabled:null===U,onClick:lt}),l.a.createElement(f.a.Item,{icon:"chart area",name:"chart",as:m.b,to:"/ChartPage",active:"chart"===ae,disabled:o.length<1,onClick:lt}),l.a.createElement(f.a.Item,{icon:"phone",name:"devices",as:m.b,to:"/DevicePage",active:"devices"===ae,disabled:null===U,onClick:lt}),l.a.createElement(f.a.Item,{icon:"star",name:"newdata",as:m.b,to:"/EmailForm",active:"newdata"===ae,disabled:null===U,onClick:lt}),l.a.createElement(f.a.Item,{icon:"sign out",name:"signout",active:"signout"===ae,disabled:null===U,position:"right",color:"blue",onClick:lt}),l.a.createElement(f.a.Item,{icon:"sign in",name:"login",as:m.b,to:"/login",active:"login"===ae,disabled:null===U,position:"right",onClick:lt})),l.a.createElement(d.a,{exact:!0,path:"/",render:function(){return l.a.createElement(J,{onLogin:($e[1],function(e){H(e)})})}}),l.a.createElement(d.a,{exact:!0,path:"/ChartPage",render:function(){return l.a.createElement(B,{data:o})}}),l.a.createElement(d.a,{exact:!0,path:"/login",render:function(){return l.a.createElement(ce,{username:D,password:L,handleUsernameChange:function(e){var t=e.target;return F(t.value)},handlePasswordChange:function(e){var t=e.target;return G(t.value)},handleSubmit:ot})}}),l.a.createElement(d.a,{exact:!0,path:"/EmailForm",render:function(){return l.a.createElement(se,{token:xe,socketId:ke,devices:fe,info:_e,func:ct})}}),l.a.createElement(d.a,{exact:!0,path:"/datas",render:function(){return l.a.createElement(R,{datas:O,func:rt})}}),l.a.createElement(d.a,{exact:!0,path:"/DevicePage",render:function(){return l.a.createElement(re,{_zoom:11,_text:"Iot",socketId:ke,deviceInfo:E,devices:fe})}}))),l.a.createElement(S,{header:qe[0],message:qe[1],_color:Je,_visible:W,_icon:Ye,delay:He,func:et}),l.a.createElement(x,{header:Qe[0],message:Qe[1],color:"red",_visible:$,_icon:"thumbs down",delay:He,MessageBox:!0,func:function(e){Q(e)}}),l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(ge,null)))};a(688);r.a.render(l.a.createElement(pe,null),document.getElementById("root"))}},[[373,2,1]]]);
//# sourceMappingURL=main.0149d750.chunk.js.map